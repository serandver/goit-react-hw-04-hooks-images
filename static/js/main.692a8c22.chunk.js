(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(5),o=c.n(r),i=c(3),s=(c(15),c(7)),j=c(1);function l(e){var t=e.onSubmit,c=Object(a.useState)(""),n=Object(i.a)(c,2),r=n[0],o=n[1],l=function(){o("")};return Object(j.jsx)("header",{className:"Searchbar",children:Object(j.jsxs)("form",{className:"SearchForm",children:[Object(j.jsx)("button",{type:"submit",className:"SearchForm-button",onClick:function(e){e.preventDefault(),""!==r.trim()?(t(r),l()):s.b.error("empty search field")},children:Object(j.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(j.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",name:"imageName",onChange:function(e){var t=e.currentTarget.value;o(t)},autoFocus:!0,placeholder:"Search images and photos"})]})})}var u=c(9),m=function(e){var t=e.webformatURL,c=e.largeImageURL,a=e.onClickImage,n=e.imageName;return Object(j.jsx)("li",{className:"ImageGalleryItem",onClick:function(){return a(c)},children:Object(j.jsx)("img",{src:t,alt:n,className:"ImageGalleryItem-image"})})},b=(c(17),c(10)),d=c.n(b),O=function(){return Object(j.jsx)(d.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},h=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"submit",className:"Button",onClick:t,children:Object(j.jsx)("span",{children:"Load More"})})},g="idle",f="pending",x="resolved",p="rejected";function v(e){var t=e.imageName,c=e.onClickImage,n=Object(a.useState)([]),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Object(a.useState)(null),b=Object(i.a)(l,2),d=b[0],v=b[1],k=Object(a.useState)(g),N=Object(i.a)(k,2),S=N[0],w=N[1],y=Object(a.useState)(1),I=Object(i.a)(y,2),C=I[0],F=I[1],E=Object(a.useRef)(!0);Object(a.useEffect)((function(){E.current?E.current=!1:(w(f),s([]),F(1),L())}),[t]);var L=function(){var e="".concat("https://pixabay.com/api/","?q=").concat(t,"&page=").concat(C,"&key=").concat("23900299-fa2ddfe6bd8026b5b95bcaf8f","&per_page=").concat(12);fetch(e).then((function(e){return e.ok?e.json():Promise.reject(new Error("Empty result"))})).then((function(e){var t=e.hits;s([].concat(Object(u.a)(o),Object(u.a)(t))),F(C+1),w(x),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){v(e),w(p)}))};return S===g?Object(j.jsx)("div",{}):S===f?Object(j.jsx)(O,{}):S===p?Object(j.jsx)("div",{children:d.message}):S===x?Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("ul",{className:"ImageGallery",children:[o.map((function(e){var a=e.id,n=e.webformatURL,r=e.largeImageURL;return Object(j.jsx)(m,{webformatURL:n,onClickImage:c,largeImageURL:r,imageName:t},a)})),o.length>0?Object(j.jsx)(h,{onClick:L}):Object(j.jsx)("h1",{children:"\u041f\u043e \u0432\u0430\u0448\u0435\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."})]})}):void 0}function k(e){var t=e.largeImage,c=e.imageName,n=e.toogleModal;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(e){"Escape"===e.code&&n()};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Modal"}),Object(j.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget!=e.target&&n()},children:Object(j.jsx)("div",{className:"Modal",children:Object(j.jsx)("img",{src:t,alt:c})})})]})}c(38);function N(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),o=Object(i.a)(r,2),u=o[0],m=o[1],b=Object(a.useState)(null),d=Object(i.a)(b,2),O=d[0],h=d[1],g=function(){n(!c)};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l,{onSubmit:function(e){m(e)}}),Object(j.jsx)(v,{imageName:u,onClickImage:function(e){h(e),g()}}),c&&Object(j.jsx)(k,{toogleModal:g,largeImage:O,imageName:u}),Object(j.jsx)(s.a,{})]})}c(39),c(40);o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(N,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.692a8c22.chunk.js.map